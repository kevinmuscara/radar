<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    <%= config.branding.schoolName %> Status Dashboard
  </title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="/branding/<%= config.branding.logo %>">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          colors: {
            primary: '<%= lotrMode ? "#8B7355" : "#1e3a8a" %>',
            secondary: '<%= lotrMode ? "#4a5568" : "#64748b" %>',
            success: '<%= lotrMode ? "#22c55e" : "#10b981" %>',
            warning: '<%= lotrMode ? "#d97706" : "#f59e0b" %>',
            danger: '<%= lotrMode ? "#dc2626" : "#ef4444" %>',
            background: '<%= lotrMode ? "#1a1410" : "#f1f5f9" %>',
            surface: '<%= lotrMode ? "#2d2416" : "#ffffff" %>',
          }
        }
      }
    }
  </script>
  <% if (lotrMode) { %>
  <style>
    body {
      background: linear-gradient(to bottom, #1a1410 0%, #2d2416 100%);
      color: #d4c5a9;
    }
    header {
      background: linear-gradient(to right, #2d2416 0%, #3a2f1f 50%, #2d2416 100%) !important;
      border-bottom: 2px solid #8B7355 !important;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5) !important;
    }
    h1, h2, h3 {
      font-family: 'Cinzel', 'Georgia', serif !important;
      color: #d4c5a9 !important;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    }
    .text-slate-800, .text-slate-900 {
      color: #d4c5a9 !important;
    }
    .text-slate-500, .text-slate-600 {
      color: #9ca3af !important;
    }
    .bg-white {
      background: #2d2416 !important;
    }
    .bg-slate-50\/50, .bg-slate-100 {
      background: #1a1410 !important;
    }
    .border-slate-200, .border-slate-100, .border-slate-300 {
      border-color: #8B7355 !important;
    }
    input {
      background: #1a1410 !important;
      color: #d4c5a9 !important;
      border-color: #8B7355 !important;
    }
    input::placeholder {
      color: #6b5d4f !important;
    }
    button {
      background: #3a2f1f !important;
      color: #d4c5a9 !important;
      border-color: #8B7355 !important;
    }
    button:hover {
      background: #4a3f2f !important;
    }
    #dashboard-container > div {
      background: linear-gradient(135deg, #2d2416 0%, #3a2f1f 100%) !important;
      border: 2px solid #8B7355 !important;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6) !important;
    }
    /* Category header hover states */
    section .cursor-pointer:hover {
      background: linear-gradient(to right, #3a2f1f 0%, #4a3f2f 100%) !important;
    }
    /* Filter button hover states */
    button:not(.bg-primary):hover {
      background: #3a2f1f !important;
      color: #d4c5a9 !important;
    }
    /* Resource card hover states */
    .card-hover:hover {
      background: linear-gradient(135deg, #3a2f1f 0%, #4a3f2f 100%) !important;
      box-shadow: 0 8px 20px rgba(139, 115, 85, 0.4) !important;
    }
  </style>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&display=swap">
  <% } %>
  <link rel="stylesheet" href="/style.css">
</head>

<body class="text-slate-800 antialiased">
  <header class="bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm">
    <div
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-auto md:h-20 py-2 md:py-0 flex flex-col md:flex-row items-center justify-between gap-2 md:gap-8">
      <div class="flex items-center gap-4 shrink-0 w-full md:w-auto justify-center md:justify-start">
        <img src="/branding/<%= config.branding.logo %>"
          onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"
          alt="<%= config.branding.schoolName %> Logo" class="h-10 md:h-12 w-auto object-contain">
        <div
          class="hidden w-10 h-10 md:w-12 md:h-12 bg-primary rounded-lg flex items-center justify-center text-white font-bold text-xl">
          <%= config.branding.schoolName %>
        </div>
        <div>
          <h1 class="text-lg md:text-xl font-bold tracking-tight text-slate-900 leading-tight">
            <% if (lotrMode) { %>
              The <%= config.branding.schoolName %> of Middle-earth
            <% } else { %>
              <%= config.branding.schoolName %>
            <% } %>
          </h1>
          <p class="text-[10px] md:text-xs text-slate-500 font-medium uppercase tracking-wider">
            <% if (lotrMode) { %>
              <span class="text-xs font-medium hidden sm:inline-block mr-2" style="color: #8B7355;">⚔️ One Dashboard to Rule Them All</span>
            <% } %>
            <span id="last-updated" class="text-xs text-slate-500 font-medium hidden sm:inline-block mr-2">Last
              updated:
              --:--</span>
          </p>
        </div>
      </div>
      <div class="w-full md:flex-1 max-w-lg mx-auto md:px-4 flex items-center gap-3 md:gap-4">
        <div class="relative flex-1">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg class="h-4 w-4 md:h-5 md:w-5 text-slate-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
              fill="currentColor" aria-hidden="true">
              <path fill-rule="evenodd"
                d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                clip-rule="evenodd" />
            </svg>
          </div>
          <input type="text" id="search-input"
            class="block w-full pl-9 md:pl-10 pr-3 py-1.5 md:py-2 border border-slate-300 rounded-md leading-5 bg-white placeholder-slate-500 focus:outline-none focus:placeholder-slate-400 focus:ring-1 focus:ring-primary focus:border-primary text-sm sm:text-sm"
            placeholder="Search resources...">
        </div>

        <div class="flex items-center gap-2 shrink-0">
          <button id="filter-toggle"
            class="md:hidden text-xs text-slate-600 font-medium flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-md border border-slate-200 hover:bg-slate-200 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-3.5 h-3.5">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z" />
            </svg>
            Filters
          </button>
        </div>
      </div>
    </div>
    <!-- Filter Buttons Container -->
    <div class="border-t border-slate-100 bg-slate-50/50 w-full">
      <div id="filter-container" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2 md:py-3 flex-wrap gap-2 hidden md:flex">
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div id="announcement-container" class="space-y-3 mb-6"></div>
    <div id="dashboard-container" class="space-y-12">
    </div>
  </main>

  <script>window.BRANDING_LOGO = "/branding/<%= config.branding.logo %>";</script>
  <script src="/script.js"></script>
</body>

</html>